<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <title>GTKR STORE OFFICIAL</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ðŸ›’ GTKR STORE</h1>
    <div class="grid">
      <div class="card">
        <img src="https://picsum.photos/400/300?1" alt="">
        <h3>Item Premium</h3>
        <p class="price">Rp 25.000</p>
        <button class="btn" onclick="beli('Item Premium', 25000)">Beli</button>
      </div>

      <div class="card">
        <img src="https://picsum.photos/400/300?2" alt="">
        <h3>Item VIP</h3>
        <p class="price">Rp 50.000</p>
        <button class="btn" onclick="beli('Item VIP', 50000)">Beli</button>
      </div>
    </div>

    <div id="formPembeli" class="card hidden">
      <h2>Fill in Purchase Data</h2>
      <p id="itemTerpilih"></p>
      <input type="text" id="nama" placeholder="Masukkan nama kamu">
      <button class="btn" onclick="lanjutBayar()">Proceed to Payment</button>
    </div>
  </div>

  <script>
    let pesanan = null;

    function beli(namaItem, harga) {
      pesanan = { namaItem, harga };
      document.getElementById('itemTerpilih').innerText = `${namaItem} - Rp${harga}`;
      document.getElementById('formPembeli').classList.remove('hidden');
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }

    function lanjutBayar() {
      const nama = document.getElementById('nama').value.trim();
      if (!nama) return alert('Fill in your name first.');

      // Buat token unik
      const token = Math.random().toString(36).substring(2, 10);
      const orderData = { ...pesanan, nama, token };
      localStorage.setItem('orderData', JSON.stringify(orderData));

      // Redirect ke halaman payment dengan token
      window.location.href = `payment.html?order=${token}`;
    }
  </script>
</body>
</html>
